<div>
  <mat-card class="product-card shadow-lg">
    <mat-card-content>
      <div class="product-image flex justify-center">
        <img
          [src]="item().image[0]"
          [alt]="item().name"
          class="w-full h-48 object-cover rounded-md"
          (click)="productdisplay(item()._id)"
        />
      </div>
    </mat-card-content>
    <mat-card-header>
      <mat-card-title class="font-bold text-2xl">
        <h2
          class="font-medium capitalize text-4xl"
          (click)="productdisplay(item()._id)"
        >
          {{ item().name }}
        </h2>
      </mat-card-title>
    </mat-card-header>
    <div class="flex justify-start p-2 align-middle mt-2">
      <span
        class="text-xs font-bold text-white text-center bg-black px-2 py-1 rounded"
        >Save {{ item().discount }}%</span
      >&nbsp;
      <span class="text-xl font-bold text-gray-600 line-through"
        >${{ item().price }}</span
      >&nbsp; @if(item().discount){
      <span class="text-3xl font-bold text-red-700"
        >${{
          this.item().price - (this.item().price * this.item().discount) / 100
        }}</span
      >
      }
    </div>
    <mat-card-actions class="flex justify-between">
      <button mat-fab aria-label="Toggle cart" (click)="addToCart(item()!)">
        @if(!isInCart(item())){
        <mat-icon>shopping_cart</mat-icon>
        } @else {
        <mat-icon>remove_shopping_cart</mat-icon>
        }
      </button>

      <button
        mat-fab
        aria-label="Toggle Wishlist"
        (click)="toggleWishlist(item())"
      >
        <mat-icon>
          {{
            wishlistService.isInWishlist(item()._id!)
              ? "favorite"
              : "favorite_border"
          }}
        </mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</div>
